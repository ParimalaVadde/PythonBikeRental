- type: RDSAuroraPostgres
          name: xbsdtestdb
          action: apply
          connectsTo:
            - type: KMS
              name: rdstestkms
            - type: LightSwitch
              name: lswitch
          dependsOn:
            - type: PrivateVPCEndpoints
              name: vpce
          properties:
            #####Graviton Enabled#####
            is_serverless: true
            serverless_db_type: db.serverless
            db_instance_type: "db.r6g.large"
            database_name: "xbsddevdb"
            aurora_cluster_postgres_db_parameter_group_family: aurora-postgresql15
            aurora_instance_postgres_db_parameter_group_family: aurora-postgresql15
            #####Backup Enabled#####
            db_backup_retention_days: 7
            skip_final_snapshot: false
            deletion_protection: "false"
            identifier_prefix: xbsddevdb
            enable_immutable_backups: true
            preferred_backup_window: "21:00-22:00"
            monitoring_interval: "5"
            #####Auto Scaling Enabled#####        
            min_capacity: 1
            max_capacity: 8
            #####Performance Enabled#####                
            performance_insights_enabled: true
            performance_insights_retention_period: 7
            preferred_maintenance_window: "Sun:22:00-Sun:23:00"
            replica_count: 1
            ca_cert_identifier: "rds-ca-rsa2048-g1"
            enable_nlb_connectivity: true
            rds_proxy: true
            engine_version: "15.3"
            healthcheck_enabled: true
            subnets:
              - "PrivateSubnet01"
              - "PrivateSubnet02"
            tags: {CIB-CMEE-ARCHETYPE-NAME: CIB-CMEE-DATA-ARCHETYPE, CIB-CMEE-ARCHETYPE-VERSION: 0.1.0-PREVIEW,CORE_BACKUPS_RETENTION: PITR BACKUP}
