
# User Story: Mapping Changes for New PFD Fields

## Story Title
Implement mapping changes for new PFD fields to staging tables

## Story ID
SDS-XXX

## Epic Link
[Data Ingestion Improvements]

## Description
As a data engineer, I need to update the mapping between the analysis_pfd source system and our SDS staging tables to accommodate new fields and mapping changes, so that we can ensure all relevant data is properly loaded into our data model.

## Background
The current mapping between analysis_pfd and our staging tables needs to be updated to support new fields and changed mappings. This work is part of our ongoing efforts to improve data completeness and quality in the Supplier Data Service.

## Acceptance Criteria
1. Update the mapping configuration to include all new PFD fields
2. Ensure existing mappings that are changing are correctly updated
3. Handle any unmapped fields appropriately (either map to new targets or mark as not required)
4. Update data loading processes to accommodate the new mapping
5. Test the updated mapping with sample data to ensure proper data loading
6. Document all mapping changes for reference

## Technical Details
- The changes will affect the following staging tables:
  - sds_staging.business_entity
  - sds_staging.business_entity_details
  - sds_staging.business_entity_characteristics 
  - sds_staging.business_entity_identifiers
  - sds_staging.physical_address
  - sds_staging.telecommunication_address
  - sds_staging.electronic_address
  - sds_staging.business_entity_spend_analysis
  - sds_staging.business_entity_payment_profile_attribute
  - sds_staging.restrictions
  - sds_staging.business_entity_industry_classification
  - sds_staging.business_entity_card_association
  - sds_staging.business_entity_card_revenues

- Current mapping configuration is stored in [location/repository/file]
- Source system schema definitions are available in [location/repository/file]
- Target schema definitions are defined in our DDL scripts

## Dependencies
- Access to the latest version of the analysis_pfd data structure
- Confirmation of all new fields that need to be mapped
- Testing environment with sample data

## Effort Estimation
Story Points: [5]

## Definition of Done
- Mapping configuration is updated
- Data loading processes successfully use the new mapping
- All tests pass with sample data
- Documentation is updated
- Code review is completed and approved
- Changes are merged to the appropriate branch



